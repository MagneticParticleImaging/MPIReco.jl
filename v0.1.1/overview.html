<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · MPI Reconstruction</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="MPI Reconstruction logo"/></a><h1>MPI Reconstruction</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li class="current"><a class="toctext" href="overview.html">Getting Started</a><ul class="internal"><li><a class="toctext" href="#First-Reconstruction-1">First Reconstruction</a></li><li><a class="toctext" href="#Data-Storage-1">Data Storage</a></li></ul></li><li><a class="toctext" href="basicReconstruction.html">Basic Reconstruction</a></li><li><a class="toctext" href="parameters.html">Parameters</a></li><li><a class="toctext" href="recoResults.html">Results</a></li><li><a class="toctext" href="multiContrast.html">Multi-Contrast</a></li><li><a class="toctext" href="multiPatch.html">Multi-Patch</a></li><li><a class="toctext" href="matrixCompression.html">Compression</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="overview.html">Getting Started</a></li></ul><a class="edit-page" href="https://github.com/MagneticParticleImaging/MPIReco.jl/blob/master/docs/src/overview.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Getting Started</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Getting-Started-1" href="#Getting-Started-1">Getting Started</a></h1><p>In order to get started we will first gather some MPI data. To this end we enter the Pkg mode in Julia (<code>]</code>) and execute the unit tests of MPIReco</p><pre><code class="language-julia">test MPIReco</code></pre><p>Now there will be several MPI files in the test directory. All the following examples assume that you entered the test directory and loaded MPIReco using</p><pre><code class="language-julia">using MPIReco
cd(joinpath(dirname(pathof(MPIReco)),&quot;..&quot;,&quot;test&quot;))</code></pre><h2><a class="nav-anchor" id="First-Reconstruction-1" href="#First-Reconstruction-1">First Reconstruction</a></h2><p>We will start looking at a very basic reconstruction script</p><pre><code class="language-julia">using MPIReco

fSF = MPIFile(&quot;SF_MP&quot;)
f = MPIFile(&quot;dataMP01&quot;)

c = reconstruction(fSF, f;
                   SNRThresh=5,
                   frames=1:10,
                   minFreq=80e3,
                   recChannels=1:2,
                   iterations=1,
                   spectralLeakageCorrection=true)
</code></pre><p>Lets go through that script step by step. First, we create handles for the system matrix and the measurement data. Both are of the type <code>MPIFile</code> which is an abstract type that can for instance be an <code>MDFFile</code> or a <code>BrukerFile</code>.</p><p>Using the handles to the MPI datasets we can call the <code>reconstruction</code> function that has various variants depending on the types that are passed to it. Here, we exploit the multiple dispatch mechanism of julia. In addition to the file handles we also apply several reconstruction parameters using keyword arguments. In this case, we set the SNR threshold to 5 implying that only matrix rows with an SNR above 5 are used during reconstruction. The parameter <code>frame</code> decides which frame of the measured data should be reconstructed.</p><p>The object <code>c</code> is of type <code>ImageMeta</code> and contains not only the reconstructed data but also several metadata such as the reconstruction parameters being used. More details on the return type are discussed in the <a href="recoResults.html#Reconstruction-Results-1">Reconstruction Results</a></p><h2><a class="nav-anchor" id="Data-Storage-1" href="#Data-Storage-1">Data Storage</a></h2><p>One can store the reconstruction result into an MDF file by calling</p><pre><code class="language-julia">saveRecoData(&quot;filename.mdf&quot;, c)</code></pre><p>In order to load the data one calls</p><pre><code class="language-julia">c = loaddata(&quot;filename.mdf&quot;, c)</code></pre><p>We will next take a closer look at different forms of the <code>reconstruction</code> routine.</p><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="basicReconstruction.html"><span class="direction">Next</span><span class="title">Basic Reconstruction</span></a></footer></article></body></html>
